import com.bmuschko.gradle.docker.tasks.network.DockerCreateNetwork
import com.bmuschko.gradle.docker.tasks.network.DockerRemoveNetwork

plugins {
    id 'com.bmuschko.docker-remote-api'
    id 'java'
}
project.ext {
    networkName = "jenkinstestnet"
}

subprojects {

    apply plugin: "com.bmuschko.docker-remote-api"

    repositories {
        mavenLocal()
        mavenCentral()
    }

}

// create Network

task createTestNetwork(type: DockerCreateNetwork) {
    networkId = rootProject.ext.networkName
}



task removeNetWork (type: DockerRemoveNetwork) {
    outputs.upToDateWhen { false }
    networkId = createTestNetwork.networkId
}


