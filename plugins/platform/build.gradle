apply plugin: 'java-platform'
apply from: "${projectDir}/../gradle-common/common-repos.gradle"
apply plugin: 'maven-publish'

ext {
	mavenVersion = '3.0.5'
	piperVersion = '2.7.DEVD2'
}


group = publishGroup  /* From gradle.properties */
version = publishVersion /* From gradle.properties */

dependencies {
	constraints {
		api group: 'com.google.guava', name: 'guava', version: '11.0.2'
		api group: 'org.springframework', name: 'spring-core', version: '5.2.1.RELEASE'
		api group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.8.4'
		api group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.8.4'
		api group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.8.4'
		api group: 'nu.studer', name: 'gradle-credentials-plugin', version: '2.1'
		api "org.apache.maven:maven-settings:$mavenVersion"
		api "org.apache.maven:maven-settings-builder:$mavenVersion"
		api "org.apache.maven:maven-model-builder:$mavenVersion"
		api "org.apache.maven:maven-model:$mavenVersion"
		api "org.apache.maven:maven-core:$mavenVersion"
		api 'org.sonatype.plexus:plexus-cipher:1.4'
		api 'org.sonatype.plexus:plexus-sec-dispatcher:1.3'
		api 'junit:junit:4.11'
		api 'org.hamcrest:hamcrest-library:1.3'
		api group: "org.hidetake", name: 'gradle-ssh-plugin', version: '2.10.1'
		api group: 'commons-io', name: 'commons-io', version: '2.6'
		api group: 'com.google.guava', name: 'guava', version: '20.0'
		api group: 'com.netflix.nebula', name: 'gradle-ospackage-plugin', version: '8.4.1'
		api group: 'nu.studer', name: 'gradle-credentials-plugin', version: '2.1'
		api "org.spockframework:spock-core:1.2-groovy-2.5"
		api "org.junit.jupiter:junit-jupiter:5.5.2"
		api "com.apgsga.patchframework:apg-patch-service-api:$piperVersion"
		api "org.apache.maven:maven-model:$mavenVersion"
		api "org.slf4j:slf4j-api:1.7.25"
		api "org.slf4j:slf4j-simple:1.7.29"
		api group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.5.4'
	}
}

publishing {
	publications {
		platformBom(MavenPublication) {
			from components.javaPlatform
		}
	}
}
